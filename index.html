<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="theme-color" content="#ffffff" />
<title>Zoufi • Welcome to Patras</title>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

<style>
/* =========================
   Boutique Hotel – Light Theme (Mobile First)
   ========================= */
:root{
  /* Brand */
  --accent:#C7A66B; --accent-ink:#6E582F;
  /* Palette */
  --bg:#ffffff; --bg-subtle:#faf9f7; --ink:#1c1c1c; --muted:#6b7280;
  --border:#e8e5e1; --hair:#efedea;
  /* Effects */
  --shadow:0 10px 28px rgba(0,0,0,.07);
  --shadow-hover:0 18px 38px rgba(0,0,0,.09);
  /* Radius & spacing */
  --r-sm:10px; --r-md:14px; --r-lg:18px; --r-xl:22px;
  --space-1:8px; --space-2:14px; --space-3:20px; --space-4:28px;
  --space-5:40px; --space-6:56px; --space-7:80px;
  /* Typography */
  --display:'Playfair Display', ui-serif, Georgia, serif;
  --text:'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  /* Hero */
  --hero-image:url('https://images.unsplash.com/photo-1519821172141-b5d8f7b9a2f3?q=80&w=1800&auto=format&fit=crop');
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{font-family:var(--text); background:var(--bg); color:var(--ink); line-height:1.7}

/* Container */
.container{max-width:100%; padding:0 var(--space-3); margin:0 auto}

/* Top utility nav (sticky) */
.topnav{position:sticky; top:0; z-index:50; backdrop-filter:saturate(1.1) blur(8px);
  background:rgba(255,255,255,.84); border-bottom:1px solid var(--hair)}
.topnav .inner{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px var(--space-3)}
.brand{font-family:var(--display); font-weight:700; letter-spacing:.3px}
.pills{display:flex; gap:6px; overflow:auto; scrollbar-width:none}
.pills::-webkit-scrollbar{display:none}
.pills a{padding:8px 12px; border:1px solid var(--border); border-radius:999px; text-decoration:none; color:#333; font-weight:600; font-size:.92rem; white-space:nowrap; background:#fff}
.pills a:hover,.pills a:focus{border-color:var(--accent); color:var(--accent-ink); outline:none}

/* Language toggle */
.lang{display:flex; gap:6px}
.lang button{border:1px solid var(--border); background:#fff; color:#555; padding:8px 12px; border-radius:999px; font-weight:700; cursor:pointer}
.lang button[aria-pressed="true"]{background:var(--accent); color:#0f0f0f; border-color:var(--accent)}

/* Hero */
.hero{position:relative; overflow:hidden; border-bottom:1px solid var(--hair);
  background:linear-gradient(to bottom, rgba(0,0,0,.35), rgba(0,0,0,.15)), var(--hero-image) center/cover no-repeat; color:#fff}
.hero .wrap{padding:var(--space-6) 0 var(--space-5)}
.hero h1{font-family:var(--display); font-weight:700; font-size:clamp(2rem,6vw,3.4rem); line-height:1.1; letter-spacing:.2px; margin-bottom:10px}
.hero p{color:#f5f5f5; max-width:60ch}
.cta{margin-top:var(--space-3); display:inline-flex; align-items:center; gap:10px; background:var(--accent); color:#0e0d0a; border:1px solid rgba(0,0,0,.08); padding:12px 18px; border-radius:999px; font-weight:700; text-decoration:none; box-shadow:var(--shadow)}
.cta:hover{transform:translateY(-1px); box-shadow:var(--shadow-hover)}

/* Sections */
.section{padding:var(--space-6) 0}
.section-head{margin-bottom:var(--space-4)}
.section-title{font-family:var(--display); font-weight:700; font-size:1.8rem; letter-spacing:.2px; margin-bottom:8px}
.section-sub{color:var(--muted)}

/* Grid + cards */
.grid{display:grid; gap:var(--space-3)}
.grid.cols-2{grid-template-columns:1fr}
.grid.cols-3{grid-template-columns:1fr}
.card{background:#fff; border:1px solid var(--border); border-radius:var(--r-lg); padding:var(--space-3); transition:.25s; box-shadow:0 0 0 rgba(0,0,0,0)}
.card:hover{box-shadow:var(--shadow); transform:translateY(-2px)}
.card h3{font-size:1.15rem; margin-bottom:6px}
.muted{color:var(--muted)}

/* Tiles (amenities / ratings vibe) */
.tile{border:2px solid var(--hair); background:var(--bg-subtle); border-radius:var(--r-lg); padding:var(--space-4); text-align:center}
.tile h4{font-family:var(--display); font-weight:600; margin-bottom:6px}
.stat{font-family:var(--display); font-size:2rem}

/* Info list */
.info{list-style:none}
.info li{display:flex; justify-content:space-between; gap:12px; padding:10px 0; border-bottom:1px solid var(--hair)}
.info li:last-child{border-bottom:0}

/* Tabs (Discover) */
.tablist{display:flex; gap:8px; flex-wrap:wrap; border:1px solid var(--border); border-radius:999px; padding:6px; background:#fff}
.tablist button{border:1px solid transparent; background:transparent; color:#555; padding:10px 12px; border-radius:999px; font-weight:700; cursor:pointer}
.tablist button[aria-selected="true"]{background:var(--accent); color:#0e0d0a}
.tabpanel{display:none; margin-top:var(--space-3)}
.tabpanel[data-active="true"]{display:block}

/* Weather */
.weather .stat{font-size:2rem}
.badge{display:inline-flex; gap:8px; align-items:center; padding:8px 12px; border:1px solid var(--border); border-radius:999px; background:#fff}

/* Emergency */
.emergency{border:2px solid #fae8e6; background:#fff5f5; border-radius:var(--r-lg); padding:var(--space-4)}
.emgrid{display:grid; grid-template-columns:1fr 1fr; gap:var(--space-3); margin-top:var(--space-3)}
.emitem{background:#fff; border:1px solid var(--border); border-radius:var(--r-md); padding:16px; text-align:center}
.emnum{font-family:var(--display); font-size:1.3rem}

/* Footer */
footer{border-top:1px solid var(--hair); background:#fff; padding:var(--space-5) 0; color:#4b5563}
footer .container{display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between}

/* Reveal */
.reveal{opacity:0; transform:translateY(18px); transition:all .45s ease}
.reveal.show{opacity:1; transform:translateY(0)}

/* ================= CAROUSEL STYLES ================= */
.carousel {
  position: relative;
  overflow: hidden;
  border-radius: var(--r-lg);
  background: #f9f9f9;
}

.carousel-track {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding: 8px;
  scrollbar-width: none;
}

.carousel-track::-webkit-scrollbar {
  display: none;
}

.carousel-item {
  flex: 0 0 85%;
  scroll-snap-align: center;
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  overflow: hidden;
  background: #fff;
  aspect-ratio: 4/3;
  position: relative;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.carousel-item:hover {
  transform: scale(1.02);
  box-shadow: var(--shadow);
}

@media (min-width: 768px) {
  .carousel-item {
    flex: 0 0 60%;
  }
}

@media (min-width: 1024px) {
  .carousel-item {
    flex: 0 0 45%;
  }
}

.carousel-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transition: transform 0.3s ease;
}

.carousel-item:hover img {
  transform: scale(1.05);
}

.carousel-caption {
  position: absolute;
  left: 12px;
  bottom: 12px;
  background: rgba(255, 255, 255, 0.95);
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 6px 12px;
  font-size: 0.85rem;
  color: #374151;
  font-weight: 500;
  max-width: calc(100% - 24px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  backdrop-filter: blur(4px);
}

/* Carousel navigation buttons */
.carousel-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255, 255, 255, 0.95);
  border: 0;
  border-radius: 50%;
  width: 48px;
  height: 48px;
  font-size: 20px;
  font-weight: 700;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  z-index: 10;
  transition: all 0.2s ease;
  color: #333;
  user-select: none;
}

.carousel-btn:hover {
  background: rgba(255, 255, 255, 1);
  transform: translateY(-50%) scale(1.05);
}

.carousel-btn.prev {
  left: 12px;
}

.carousel-btn.next {
  right: 12px;
}

.carousel-btn:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* ================= LIGHTBOX STYLES ================= */
.lb {
  position: fixed;
  inset: 0;
  z-index: 100;
  display: none;
  place-items: center;
  background: rgba(0, 0, 0, 0.9);
  backdrop-filter: blur(4px);
  padding: 20px;
}

.lb[data-open="true"] {
  display: grid;
}

.lb-img {
  max-width: 90vw;
  max-height: 80vh;
  border-radius: 12px;
  box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
  object-fit: contain;
  background: #fff;
}

.lb-ui {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
  pointer-events: none;
}

.lb-btn {
  background: rgba(255, 255, 255, 0.95);
  border: 0;
  border-radius: 50%;
  width: 48px;
  height: 48px;
  cursor: pointer;
  font-size: 20px;
  font-weight: 700;
  color: #333;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto;
  transition: all 0.2s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  user-select: none;
}

.lb-btn:hover {
  background: rgba(255, 255, 255, 1);
  transform: scale(1.05);
}

.lb-btn:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

.lb-close {
  position: absolute;
  top: 20px;
  right: 20px;
  width: 44px;
  height: 44px;
}

.lb-caption {
  position: absolute;
  left: 50%;
  bottom: 20px;
  transform: translateX(-50%);
  background: rgba(255, 255, 255, 0.95);
  color: #333;
  border-radius: 999px;
  padding: 10px 16px;
  font-size: 0.9rem;
  font-weight: 500;
  max-width: min(90vw, 600px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(4px);
}

/* Breakpoints */
@media (min-width:768px){
  .container{max-width:760px}
  .pills a{padding:10px 14px}
  .grid.cols-2{grid-template-columns:repeat(2,1fr)}
  .grid.cols-3{grid-template-columns:repeat(3,1fr)}
}
@media (min-width:1024px){
  .container{max-width:980px}
  .hero .wrap{padding:var(--space-7) 0 var(--space-6)}
  .section{padding:var(--space-7) 0}
}
@media (min-width:1280px){ .container{max-width:1180px} }

/* Accessibility */
@media (prefers-reduced-motion: reduce){*,*::before,*::after{transition:none !important; animation:none !important}}
a:focus-visible,button:focus-visible{outline:2px solid var(--accent); outline-offset:2px}

/* Mobile adjustments */
@media (max-width: 767px) {
  .carousel-btn {
    width: 40px;
    height: 40px;
    font-size: 16px;
  }
  
  .carousel-btn.prev {
    left: 8px;
  }
  
  .carousel-btn.next {
    right: 8px;
  }
  
  .lb-btn {
    width: 40px;
    height: 40px;
    font-size: 16px;
  }
  
  .lb-close {
    width: 36px;
    height: 36px;
    top: 16px;
    right: 16px;
  }
  
  .lb-caption {
    bottom: 16px;
    font-size: 0.85rem;
    padding: 8px 12px;
  }
}
</style>
</head>
<body>

<!-- Sticky top nav -->
<div class="topnav" role="navigation" aria-label="Top">
  <div class="inner container">
    <div class="brand">Zoufi</div>
    <div class="pills" aria-label="Sections">
      <a href="#overview" data-i18n="nav.overview">Overview</a>
      <a href="#essentials" data-i18n="nav.essentials">Essentials</a>
      <a href="#images" data-i18n="nav.images">Images</a>
      <a href="#weather" data-i18n="nav.weather">Weather</a>
      <a href="#discover" data-i18n="nav.discover">Discover</a>
      <a href="#emergency" data-i18n="nav.emergency">Emergency</a>
      <a href="#contact" data-i18n="nav.contact">Contact</a>
    </div>
    <div class="lang" role="group" aria-label="Language">
      <button type="button" data-set-lang="en" aria-pressed="true">EN</button>
      <button type="button" data-set-lang="gr" aria-pressed="false">GR</button>
    </div>
  </div>
</div>

<!-- Hero -->
<section id="overview" class="hero">
  <div class="wrap container">
    <h1 data-i18n="hero.title">Welcome to Patras</h1>
    <p data-i18n="hero.subtitle">Your digital concierge for an unforgettable Greek experience</p>
    <a href="#contact" class="cta">✉︎ <span data-i18n="cta.contact">Contact the host</span></a>
    <div class="badge" style="margin-left:12px">📍 <span data-i18n="hero.location">Patras, Western Greece</span></div>
  </div>
</section>

<!-- Quick tiles -->
<section class="section">
  <div class="container grid cols-3 reveal">
    <div class="tile">
      <h4 data-i18n="tile.checkin">Check-in / Check-out</h4>
      <div class="stat">15:00</div>
      <div class="muted" data-i18n="tile.checkout">Check-out 11:00</div>
    </div>
    <div class="tile">
      <h4 data-i18n="tile.guests">Max Guests</h4>
      <div class="stat">4</div>
      <div class="muted" data-i18n="tile.rules">Quiet hours 22:00–08:00</div>
    </div>
    <div class="tile">
      <h4 data-i18n="tile.wifi">Wi-Fi</h4>
      <div class="stat">Fast</div>
      <div class="muted">100+ Mbps</div>
    </div>
  </div>
</section>

<!-- Essentials -->
<section id="essentials" class="section">
  <div class="container">
    <div class="section-head">
      <h2 class="section-title" data-i18n="apt.title">Apartment Essentials</h2>
      <p class="section-sub" data-i18n="apt.sub">Key info for a smooth stay.</p>
    </div>
    <div class="grid cols-2">
      <div class="card reveal">
        <h3 data-i18n="apt.access">Access</h3>
        <p class="muted" data-i18n="apt.accessDesc">
          <strong>Check-in:</strong> After 3:00 PM<br>
          <strong>Check-out:</strong> Before 11:00 AM<br>
          <strong>Lockbox Code:</strong> 1234
        </p>
      </div>
      <div class="card reveal">
        <h3 data-i18n="apt.rules">House Rules</h3>
        <ul class="info">
          <li><span data-i18n="apt.ruleQuiet">Quiet hours</span><span>10 PM – 8 AM</span></li>
          <li><span data-i18n="apt.ruleSmoke">Smoking</span><span>❌ Indoor / ✅ Balcony</span></li>
          <li><span data-i18n="apt.ruleGuests">Max guests</span><span>4</span></li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- Images / Carousel -->
<section id="images" class="section">
  <div class="container">
    <div class="section-head">
      <h2 class="section-title">Images</h2>
      <p class="section-sub">A glimpse of the space & surroundings.</p>
    </div>

    <div class="carousel">
      <button class="carousel-btn prev" aria-label="Previous">‹</button>
      <div id="carouselTrack" class="carousel-track" aria-label="Property images">
        <!-- Images will be populated by JavaScript -->
      </div>
      <button class="carousel-btn next" aria-label="Next">›</button>
    </div>
  </div>
</section>

<!-- Lightbox shell -->
<div id="lightbox" class="lb" aria-hidden="true">
  <img class="lb-img" alt="" />
  <div class="lb-ui" aria-hidden="true">
    <button class="lb-btn" data-prev aria-label="Previous">‹</button>
    <button class="lb-btn" data-next aria-label="Next">›</button>
  </div>
  <button class="lb-btn lb-close" data-close aria-label="Close">✕</button>
  <div class="lb-caption" aria-live="polite"></div>
</div>

<!-- Weather -->
<section id="weather" class="section">
  <div class="container">
    <div class="section-head">
      <h2 class="section-title" data-i18n="weather.title">Today's Weather</h2>
      <p class="section-sub" data-i18n="weather.sub">Live conditions for Patras.</p>
    </div>

    <div class="grid cols-2">
      <div class="card weather reveal">
        <h3 class="muted" data-i18n="weather.summaryLabel">Current</h3>
        <ul class="info">
          <li><span data-i18n="weather.tempLabel">Temperature</span><span class="stat temp">—</span></li>
          <li><span data-i18n="weather.condLabel">Conditions</span><span class="line muted">—</span></li>
          <li><span data-i18n="weather.sunset">Sunset</span><span class="sunset muted">—</span></li>
          <li><span data-i18n="weather.sunrise">Sunrise</span><span class="sunrise muted">—</span></li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- Discover -->
<section id="discover" class="section">
  <div class="container">
    <div class="section-head">
      <h2 class="section-title" data-i18n="discover.title">Discover Patras</h2>
      <p class="section-sub" data-i18n="discover.sub">Must-see spots, food, and essentials.</p>
    </div>

    <div class="tablist" role="tablist" aria-label="Discover">
      <button role="tab" aria-selected="true" aria-controls="tab-attractions" id="tabbtn-attractions" data-i18n="tabs.mustsee">Must-See</button>
      <button role="tab" aria-selected="false" aria-controls="tab-food" id="tabbtn-food" data-i18n="tabs.food">Food & Drinks</button>
      <button role="tab" aria-selected="false" aria-controls="tab-practical" id="tabbtn-practical" data-i18n="tabs.practical">Essentials</button>
      <button role="tab" aria-selected="false" aria-controls="tab-transport" id="tabbtn-transport" data-i18n="tabs.transport">Getting Around</button>
    </div>

    <div id="tab-attractions" class="tabpanel" role="tabpanel" aria-labelledby="tabbtn-attractions" data-active="true">
      <div class="grid cols-3" style="margin-top:var(--space-3)">
        <div class="card reveal"><h3>Patras Castle</h3><p class="muted">Medieval fortress with panoramic views</p></div>
        <div class="card reveal"><h3>Roman Odeon</h3><p class="muted">Ancient theater still hosting shows</p></div>
        <div class="card reveal"><h3>St. Andrew Church</h3><p class="muted">Magnificent cathedral</p></div>
        <div class="card reveal"><h3>Marina & Waterfront</h3><p class="muted">Cafés and sunset walks</p></div>
        <div class="card reveal"><h3>Municipal Gallery</h3><p class="muted">Local art & exhibits</p></div>
        <div class="card reveal"><h3>Carnival Heritage</h3><p class="muted">Europe's largest carnival (Feb–Mar)</p></div>
      </div>
    </div>

    <div id="tab-food" class="tabpanel" role="tabpanel" aria-labelledby="tabbtn-food" data-active="false">
      <div class="grid cols-2" style="margin-top:var(--space-3)">
        <div class="card reveal"><h3>Traditional Greek</h3><p class="muted"><strong>Taverna Dionysos</strong> • Mezze & grills • 5-min walk<br><strong>Akti Seafood</strong> • Fresh fish • Harbor views</p></div>
        <div class="card reveal"><h3>Coffee Culture</h3><p class="muted"><strong>Coffee Island</strong> • Multiple locations<br><strong>Café Central</strong> • Historic vibe</p></div>
        <div class="card reveal"><h3>International</h3><p class="muted"><strong>Pizza Fan</strong> • Delivery<br><strong>Buddha Bar</strong> • Asian-fusion</p></div>
        <div class="card reveal"><h3>Nightlife</h3><p class="muted"><strong>Plateia Georgiou</strong> • Bars<br><strong>Riga Fereos</strong> • Clubs</p></div>
      </div>
    </div>

    <div id="tab-practical" class="tabpanel" role="tabpanel" aria-labelledby="tabbtn-practical" data-active="false">
      <div class="grid cols-2" style="margin-top:var(--space-3)">
        <div class="card reveal"><h3>Shopping</h3><p class="muted"><strong>Sklavenitis</strong> 3-min • <strong>AB</strong> 5-min • <strong>Lidl</strong> 10-min</p></div>
        <div class="card reveal"><h3>Pharmacy</h3><p class="muted">Open till 9 PM • 2-min walk</p></div>
        <div class="card reveal"><h3>Banking</h3><p class="muted">Eurobank ATM (corner) • National Bank downtown</p></div>
        <div class="card reveal"><h3>Connectivity</h3><p class="muted">Cosmote tourist SIMs • Café Wi-Fi</p></div>
      </div>
    </div>

    <div id="tab-transport" class="tabpanel" role="tabpanel" aria-labelledby="tabbtn-transport" data-active="false">
      <div class="grid cols-2" style="margin-top:var(--space-3)">
        <div class="card reveal"><h3>Transport Tips</h3><p class="muted">Walkable center • Taxis & local buses for longer hops</p></div>
      </div>
    </div>
  </div>
</section>

<!-- Emergency -->
<section id="emergency" class="section">
  <div class="container">
    <div class="section-head">
      <h2 class="section-title" data-i18n="emergency.title">Emergency Contacts</h2>
      <p class="section-sub" data-i18n="emergency.sub">Quick numbers you may need.</p>
    </div>
    <div class="emergency reveal">
      <div class="emgrid">
        <div class="emitem"><div class="muted" data-i18n="emergency.emergency">Emergency</div><div class="emnum">112</div></div>
        <div class="emitem"><div class="muted" data-i18n="emergency.police">Police</div><div class="emnum">100</div></div>
        <div class="emitem"><div class="muted" data-i18n="emergency.fire">Fire Dept</div><div class="emnum">199</div></div>
        <div class="emitem"><div class="muted" data-i18n="emergency.hospital">Hospital</div><div class="emnum" data-i18n="emergency.hospitalDesc">University Hospital<br><strong>2613 603 000</strong></div></div>
      </div>
    </div>
  </div>
</section>

<!-- Contact -->
<section id="contact" class="section">
  <div class="container">
    <div class="section-head">
      <h2 class="section-title" data-i18n="contact.title">Need anything?</h2>
      <p class="section-sub" data-i18n="contact.subtitle">Contact your host anytime.</p>
    </div>
    <div class="grid cols-2">
      <div class="card reveal"><h3>Phone</h3><p class="muted">+30 2610 000000</p></div>
      <div class="card reveal"><h3>Email</h3><p class="muted">host@example.com</p></div>
    </div>
  </div>
</section>

<footer>
  <div class="container">
    <small>© <span id="y"></span> Zoufis cozy living • Patras</small>
    <small style="opacity:.7">Made with ❤</small>
  </div>
</footer>

<script>
/* ===== Gallery Images Data ===== */
const galleryImages = [ 
  {
    src: 'assets/images/gallery/2b9bd9ac-d8e6-4a41-8504-e75d2ff8259b.jpeg',
    caption: 'Building Entrance - Welcome to your home away from home'
  },
  {
    src: 'assets/images/gallery/f7ccf3b5-d1f4-43b8-be5b-29a4262b69c9.jpeg',
    caption: 'Kitchen - Fully equipped for your convenience'
  },
  {
    src: 'assets/images/gallery/618d0254-7ffe-462e-8c94-626634c56113.jpeg',
    caption: 'Living Room - Comfortable seating area'
  },
  {
    src: 'assets/images/gallery/ddc41195-efd1-4d15-842a-750da619f468.jpeg',
    caption: 'Bedroom - Peaceful sleeping space'
  },
  {
    src: 'assets/images/gallery/4176c196-9a91-494f-8bbf-05af6ce259fe.jpeg',
    caption: 'Bathroom - Modern amenities'
  },
  {
    src: 'assets/images/gallery/8fac8190-acd1-4852-9f60-ad16fe3174d1.avif',
    caption: 'Courtyard'
  },

];

/* ===== Carousel Functionality ===== */
let currentIndex = 0;

function initCarousel() {
  const track = document.getElementById('carouselTrack');
  if (!track) return;

  // Clear existing content
  track.innerHTML = '';

  // Populate carousel with images
  galleryImages.forEach((img, index) => {
    const item = document.createElement('div');
    item.className = 'carousel-item';
    item.dataset.index = index;
    item.innerHTML = `
      <img src="${img.src}" alt="${img.caption}" loading="lazy" />
      <div class="carousel-caption">${img.caption}</div>
    `;
    
    // Add click handler for lightbox
    item.addEventListener('click', () => openLightbox(index));
    
    track.appendChild(item);
  });

  // Navigation buttons
  const prevBtn = document.querySelector('.carousel-btn.prev');
  const nextBtn = document.querySelector('.carousel-btn.next');

  if (prevBtn) {
    prevBtn.addEventListener('click', (e) => {
      e.preventDefault();
      scrollCarousel(-1);
    });
  }
  
  if (nextBtn) {
    nextBtn.addEventListener('click', (e) => {
      e.preventDefault();
      scrollCarousel(1);
    });
  }

  // Touch/scroll handling
  let isScrolling = false;
  track.addEventListener('scroll', () => {
    if (!isScrolling) {
      window.requestAnimationFrame(() => {
        updateCurrentIndex();
        isScrolling = false;
      });
    }
    isScrolling = true;
  });
}

function scrollCarousel(direction) {
  const track = document.getElementById('carouselTrack');
  if (!track) return;

  const items = track.querySelectorAll('.carousel-item');
  if (items.length === 0) return;

  currentIndex = Math.max(0, Math.min(items.length - 1, currentIndex + direction));
  
  const targetItem = items[currentIndex];
  if (targetItem) {
    targetItem.scrollIntoView({
      behavior: 'smooth',
      block: 'nearest',
      inline: 'center'
    });
  }
}

function updateCurrentIndex() {
  const track = document.getElementById('carouselTrack');
  if (!track) return;

  const items = track.querySelectorAll('.carousel-item');
  if (items.length === 0) return;

  const trackRect = track.getBoundingClientRect();
  const center = trackRect.left + trackRect.width / 2;

  let closestIndex = 0;
  let closestDistance = Infinity;

  items.forEach((item, index) => {
    const itemRect = item.getBoundingClientRect();
    const itemCenter = itemRect.left + itemRect.width / 2;
    const distance = Math.abs(center - itemCenter);

    if (distance < closestDistance) {
      closestDistance = distance;
      closestIndex = index;
    }
  });

  currentIndex = closestIndex;
}

/* ===== Lightbox Functionality ===== */
let lightboxIndex = 0;

function openLightbox(index = 0) {
  const lightbox = document.getElementById('lightbox');
  if (!lightbox) return;

  lightboxIndex = index;
  updateLightboxImage();
  
  lightbox.setAttribute('data-open', 'true');
  lightbox.setAttribute('aria-hidden', 'false');
  document.body.style.overflow = 'hidden';

  // Focus management
  const closeBtn = lightbox.querySelector('[data-close]');
  if (closeBtn) closeBtn.focus();
}

function closeLightbox() {
  const lightbox = document.getElementById('lightbox');
  if (!lightbox) return;

  lightbox.setAttribute('data-open', 'false');
  lightbox.setAttribute('aria-hidden', 'true');
  document.body.style.overflow = '';
}

function updateLightboxImage() {
  const lightbox = document.getElementById('lightbox');
  if (!lightbox || !galleryImages[lightboxIndex]) return;

  const img = lightbox.querySelector('.lb-img');
  const caption = lightbox.querySelector('.lb-caption');

  if (img) {
    img.src = galleryImages[lightboxIndex].src.replace('w=800', 'w=1600');
    img.alt = galleryImages[lightboxIndex].caption;
  }
  
  if (caption) {
    caption.textContent = galleryImages[lightboxIndex].caption;
  }
}

function navigateLightbox(direction) {
  const newIndex = lightboxIndex + direction;
  if (newIndex >= 0 && newIndex < galleryImages.length) {
    lightboxIndex = newIndex;
    updateLightboxImage();
  }
}

function initLightbox() {
  const lightbox = document.getElementById('lightbox');
  if (!lightbox) return;

  // Close button
  const closeBtn = lightbox.querySelector('[data-close]');
  if (closeBtn) {
    closeBtn.addEventListener('click', closeLightbox);
  }

  // Navigation buttons
  const prevBtn = lightbox.querySelector('[data-prev]');
  const nextBtn = lightbox.querySelector('[data-next]');
  
  if (prevBtn) {
    prevBtn.addEventListener('click', () => navigateLightbox(-1));
  }
  if (nextBtn) {
    nextBtn.addEventListener('click', () => navigateLightbox(1));
  }

  // Click outside to close
  lightbox.addEventListener('click', (e) => {
    if (e.target === lightbox) {
      closeLightbox();
    }
  });

  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    if (lightbox.getAttribute('data-open') !== 'true') return;

    switch (e.key) {
      case 'Escape':
        closeLightbox();
        break;
      case 'ArrowLeft':
        navigateLightbox(-1);
        break;
      case 'ArrowRight':
        navigateLightbox(1);
        break;
    }
  });
}

/* ===== i18n dictionary ===== */
const i18n = {
  en: {
    nav:{overview:'Overview', essentials:'Essentials', images:'Images', weather:'Weather', discover:'Discover', emergency:'Emergency', contact:'Contact'},
    hero:{ title:'Welcome to Patras', subtitle:'Your digital concierge for an unforgettable Greek experience', location:'Patras, Western Greece' },
    cta:{contact:'Contact the host'},
    tile:{checkin:'Check-in / Check-out', checkout:'Check-out 11:00', guests:'Max Guests', rules:'Quiet hours 22:00–08:00', wifi:'Wi-Fi'},
    apt:{ title:'Apartment Essentials', sub:'Key info for a smooth stay.', access:'Access',
      accessDesc:'<strong>Check-in:</strong> After 3:00 PM<br><strong>Check-out:</strong> Before 11:00 AM<br><strong>Lockbox Code:</strong> 1234',
      rules:'House Rules', ruleQuiet:'Quiet hours', ruleSmoke:'Smoking', ruleGuests:'Max guests' },
    weather:{ title:"Today's Weather", sub:'Live conditions for Patras.', summaryLabel:'Current',
      tempLabel:'Temperature', condLabel:'Conditions', sunrise:'Sunrise', sunset:'Sunset' },
    discover:{ title:'Discover Patras', sub:'Must-see spots, food, and essentials.' },
    tabs:{ mustsee:'Must-See', food:'Food & Drinks', practical:'Essentials', transport:'Getting Around' },
    emergency:{ title:'Emergency Contacts', sub:'Quick numbers you may need.',
      emergency:'Emergency', police:'Police', fire:'Fire Dept', hospital:'Hospital',
      hospitalDesc:'University Hospital<br><strong>2613 603 000</strong>' },
    contact:{ title:'Need anything?', subtitle:'Contact your host anytime.' }
  },
  gr: {
    nav:{overview:'Επισκόπηση', essentials:'Βασικά', images:'Εικόνες', weather:'Καιρός', discover:'Ανακαλύψτε', emergency:'Έκτακτα', contact:'Επικοινωνία'},
    hero:{ title:'Καλώς ήρθατε στην Πάτρα', subtitle:'Ο ψηφιακός σας concierge για μια αξέχαστη εμπειρία', location:'Πάτρα, Δυτική Ελλάδα' },
    cta:{contact:'Επικοινωνία με οικοδεσπότη'},
    tile:{checkin:'Άφιξη / Αναχώρηση', checkout:'Αναχώρηση 11:00', guests:'Μέγιστοι φιλοξενούμενοι', rules:'Ώρες ησυχίας 22:00–08:00', wifi:'Wi-Fi'},
    apt:{ title:'Βασικές Πληροφορίες Διαμερίσματος', sub:'Ό,τι χρειάζεστε για άνετη διαμονή.',
      access:'Πρόσβαση',
      accessDesc:'<strong>Άφιξη:</strong> Μετά τις 15:00<br><strong>Αναχώρηση:</strong> Πριν τις 11:00<br><strong>Κωδ. θυρίδας:</strong> 1234',
      rules:'Κανόνες Σπιτιού', ruleQuiet:'Ώρες ησυχίας', ruleSmoke:'Κάπνισμα', ruleGuests:'Μέγιστοι φιλοξενούμενοι' },
    weather:{ title:'Ο καιρός σήμερα', sub:'Ζωντανές συνθήκες για την Πάτρα.',
      summaryLabel:'Τώρα', tempLabel:'Θερμοκρασία', condLabel:'Συνθήκες', sunrise:'Ανατολή', sunset:'Ηλιοβασίλεμα' },
    discover:{ title:'Ανακαλύψτε την Πάτρα', sub:'Αξιοθέατα, φαγητό και πρακτικά.' },
    tabs:{ mustsee:'Αξίζει να δείτε', food:'Φαγητό & Ποτά', practical:'Πρακτικά', transport:'Μετακινήσεις' },
    emergency:{ title:'Έκτακτα Τηλέφωνα', sub:'Χρήσιμοι αριθμοί.',
      emergency:'Έκτακτη ανάγκη', police:'Αστυνομία', fire:'Πυροσβεστική', hospital:'Νοσοκομείο',
      hospitalDesc:'Πανεπιστημιακό Νοσοκομείο<br><strong>2613 603 000</strong>' },
    contact:{ title:'Χρειάζεστε κάτι;', subtitle:'Επικοινωνήστε με τον οικοδεσπότη.' }
  }
};
const dictGet=(o,p)=>p.split('.').reduce((a,k)=>(a||{})[k],o);

/* Weather (Open-Meteo) */
const WEATHER_TTL_MS=30*60*1000, WEATHER_KEY='patras_weather_payload';
const WEATHER_LABELS={ en:{clear:'Clear',partly:'Partly cloudy',fog:'Fog',drizzle:'Drizzle',rain:'Rain',snow:'Snow',showers:'Showers',snow_sh:'Snow showers',thunder:'Thunderstorm',hail:'Thunder w/ hail'},
  gr:{clear:'Αίθριος',partly:'Μερική συννεφιά',fog:'Ομίχλη',drizzle:'Ψιχάλες',rain:'Βροχή',snow:'Χιόνι',showers:'Μπόρες',snow_sh:'Μπόρες χιονιού',thunder:'Καταιγίδα',hail:'Καταιγίδα με χαλάζι'} };
function bucketFromCode(c){ if(c===0)return'clear'; if(c>=1&&c<=3)return'partly'; if(c===45||c===48)return'fog';
  if(c>=51&&c<=57)return'drizzle'; if(c>=61&&c<=67)return'rain'; if(c>=71&&c<=77)return'snow';
  if(c>=80&&c<=82)return'showers'; if(c>=85&&c<=86)return'snow_sh'; if(c===95)return'thunder'; if(c===96||c===99)return'hail'; return'partly';}
const fmt=(iso,lang)=>new Intl.DateTimeFormat(lang==='gr'?'el-GR':'en-GB',{hour:'2-digit',minute:'2-digit'}).format(new Date(iso));
function renderWeather(data,lang){
  const temp=document.querySelector('.temp'), line=document.querySelector('.line'), sset=document.querySelector('.sunset'), srise=document.querySelector('.sunrise');
  if(!temp||!line||!sset||!srise) return;
  if(!data){ temp.textContent=line.textContent=sset.textContent=srise.textContent='—'; return; }
  const labels=WEATHER_LABELS[lang]||WEATHER_LABELS.en, bucket=bucketFromCode(+data.code);
  temp.textContent=Math.round(+data.temp)+'°C';
  line.textContent=labels[bucket]||'';
  sset.textContent=fmt(data.sunset,lang);
  srise.textContent=fmt(data.sunrise,lang);
}
async function fetchWeather(){
  const url='https://api.open-meteo.com/v1/forecast?latitude=38.2466&longitude=21.7346&current_weather=true&daily=sunrise,sunset&timezone=Europe%2FAthens&forecast_days=1';
  const r=await fetch(url,{cache:'no-store'}); if(!r.ok) throw new Error('net'); const j=await r.json();
  return { temp:j.current_weather?.temperature, code:j.current_weather?.weathercode, sunrise:j.daily?.sunrise?.[0], sunset:j.daily?.sunset?.[0] };
}
async function loadWeather(){
  const now=Date.now();
  try{const c=JSON.parse(localStorage.getItem(WEATHER_KEY)||'null'); if(c&&(now-c.ts)<WEATHER_TTL_MS){ renderWeather(c.data,currentLang()); }}catch{}
  try{const d=await fetchWeather(); localStorage.setItem(WEATHER_KEY, JSON.stringify({ts:now, data:d})); renderWeather(d,currentLang()); }catch{}
}

/* Language switching */
function currentLang(){ return localStorage.getItem('patras_lang') || (navigator.language?.toLowerCase().startsWith('el')?'gr':'en'); }
function translate(lang){
  document.documentElement.lang=(lang==='gr')?'el':'en';
  document.querySelectorAll('[data-i18n]').forEach(el=>{ const v=dictGet(i18n[lang], el.getAttribute('data-i18n')); if(typeof v==='string') el.innerHTML=v; });
  document.querySelectorAll('.lang button').forEach(b=>b.setAttribute('aria-pressed', String(b.dataset.setLang===lang)));
  const cached=JSON.parse(localStorage.getItem(WEATHER_KEY)||'null'); renderWeather(cached?.data, lang);
  localStorage.setItem('patras_lang', lang);
}
document.addEventListener('click', e => {
  const b=e.target.closest('.lang button'); if(b) translate(b.dataset.setLang);
});

/* Tabs */
const tabButtons=[...document.querySelectorAll('.tablist [role="tab"]')];
const tabPanels=[...document.querySelectorAll('.tabpanel')];
function setActiveTab(id){ tabButtons.forEach(btn=>btn.setAttribute('aria-selected', String(btn.id==='tabbtn-'+id)));
  tabPanels.forEach(p=>p.dataset.active=String(p.id==='tab-'+id)); }
tabButtons.forEach(btn=>btn.addEventListener('click',()=>setActiveTab(btn.id.replace('tabbtn-',''))));

/* Reveal on scroll */
const io=new IntersectionObserver(es=>es.forEach(e=>e.isIntersecting&&e.target.classList.add('show')), {threshold:.12});
document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

/* Init */
function init() {
  document.getElementById('y').textContent = new Date().getFullYear();
  translate(currentLang());
  loadWeather();
  initCarousel();
  initLightbox();
}

// Initialize when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', init);
} else {
  init();
}
</script>

</body>
</html>